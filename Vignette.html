<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Salfo Bikienga" />

<meta name="date" content="2014-12-19" />

<title>Introduction to the humcap package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Introduction to the humcap package</h1>
<h4 class="author"><em>Salfo Bikienga</em></h4>
<h4 class="date"><em>2014-12-19</em></h4>
</div>


<p>The humcap package provides functions for computing estimates of human capital premiums. The package derives from the “Human Capital Measurement: A Quantiles Regression Approach” paper.</p>
<div id="installing-the-package" class="section level2">
<h2>Installing the package</h2>
<p>You will need the devtools package to install packages from github. To install the devtool package, run:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;devtools&quot;)</span></code></pre>
<p>Then install the humcap package as follows:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#devtools::install_github(&quot;Salfo/humcap&quot;)</span>
<span class="kw">library</span>(humcap) <span class="co"># load the package</span></code></pre>
<p>The package has essentially two main functions. The hum_cap() function and the mult_hum_cap() function. The hum_cap() function takes a dataset and compute a single human capital premium estimate. The package comes with a dataset.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(cps1990_2013) 
<span class="kw">str</span>(cps1990_2013)</code></pre>
<pre><code>## Classes 'tbl_df', 'tbl' and 'data.frame':    1618172 obs. of  23 variables:
##  $ statefip: Factor w/ 75 levels &quot;Alabama&quot;,&quot;Alaska&quot;,..: 20 20 20 20 20 20 20 20 20 20 ...
##  $ year    : int  1990 1990 1990 1990 1990 1990 1990 1990 1990 1990 ...
##  $ age     : Factor w/ 100 levels &quot;Under 1 year&quot;,..: 63 49 46 33 31 53 42 41 32 28 ...
##  $ age1    : num  62 48 45 32 30 52 41 40 31 27 ...
##  $ sex     : Factor w/ 3 levels &quot;Male&quot;,&quot;Female&quot;,..: 2 1 2 1 2 2 1 2 1 2 ...
##  $ race    : Factor w/ 29 levels &quot;White&quot;,&quot;Black/Negro&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ race1   : Factor w/ 2 levels &quot;White&quot;,&quot;Non_White&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ educ    : Factor w/ 36 levels &quot;NIU or no schooling&quot;,..: 16 14 22 28 28 22 28 28 28 24 ...
##  $ educ1   : num  10 8 13 16 16 13 16 16 16 14 ...
##  $ educ2   : Factor w/ 5 levels &quot;LHSC&quot;,&quot;HSD&quot;,&quot;Asso&quot;,..: 1 1 2 4 4 2 4 4 4 3 ...
##  $ marst   : Factor w/ 7 levels &quot;Married, spouse present&quot;,..: 4 1 1 1 1 4 1 1 1 1 ...
##  $ marst1  : Factor w/ 2 levels &quot;Non_Married&quot;,..: 1 2 2 2 2 1 2 2 2 2 ...
##  $ exp     : num  46 34 26 10 8 33 19 18 9 7 ...
##  $ exp_sq  : num  2116 1156 676 100 64 ...
##  $ uhrswork: Factor w/ 100 levels &quot;niu&quot;,&quot;1 hour&quot;,..: 21 51 26 61 37 25 51 8 41 21 ...
##  $ hourwage: int  9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ...
##  $ incwage : int  2288 31000 9700 60000 30000 5000 72300 2000 24000 5200 ...
##  $ earnweek: int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hrswage : num  2.2 11.92 7.46 19.23 16.03 ...
##  $ lhrswage: num  0.788 2.478 2.01 2.957 2.774 ...
##  $ hrsw    : num  1040 2600 1300 3120 1872 ...
##  $ wtsupp  : num  573 604 604 674 674 ...
##  $ state   : Factor w/ 51 levels &quot;Alabama&quot;,&quot;Alaska&quot;,..: 20 20 20 20 20 20 20 20 20 20 ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr) <span class="co"># dplyr is needed for data subsetting</span>
testdata &lt;-<span class="st"> </span><span class="kw">filter</span>(cps1990_2013, state ==<span class="st"> &quot;Nebraska&quot;</span>, year ==<span class="st"> </span><span class="dv">2013</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">lin&lt;-lhrswage~educ2+<span class="st"> </span>exp +<span class="st"> </span>exp_sq+marst1 <span class="co"># define the model</span>
testmod &lt;-<span class="st"> </span><span class="kw">hum_cap</span>(<span class="dt">data=</span> testdata, <span class="dt">formula =</span> lin, <span class="dt">tau =</span> <span class="fl">0.2</span>, <span class="dt">weights =</span> testdata$wtsupp, <span class="dt">FUN =</span> lm) </code></pre>
<pre><code>## Warning in lm.wfit(x, y, w, offset = offset, singular.ok = singular.ok, :
## extra argument 'tau' is disregarded.</code></pre>
<pre><code>## Warning in lm.wfit(x, y, w, offset = offset, singular.ok = singular.ok, :
## extra argument 'tau' is disregarded.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">testmod$hc.prem <span class="co"># output human capital premium</span></code></pre>
<pre><code>##     male   female      all 
## 15.10466 12.37769 13.82013</code></pre>
<p>Uncomment the following code to see the full output of the function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># testmod</span></code></pre>
<p>To use quantile regression estimations, replace the FUN argument lm with rq. But, for the rq function to work, we need to load the quantreg package.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(quantreg) <span class="co"># load the quantreg package</span>
testmod1 &lt;-<span class="st"> </span><span class="kw">hum_cap</span>(<span class="dt">data=</span> testdata, <span class="dt">formula =</span> lin, <span class="dt">tau =</span> <span class="fl">0.2</span>, <span class="dt">weights =</span> testdata$wtsupp, <span class="dt">FUN =</span> rq) 
testmod1$hc.prem <span class="co"># output human capital premium</span></code></pre>
<pre><code>##     male   female      all 
## 17.04517 14.50954 15.85077</code></pre>
<p>To run the hum_cap() function for multiple years, and multiple states, the mult_hum_cap() function is handy.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#testmod11 &lt;- mult_hum_cap(data= cps1990_2013, formula = lin, tau = 0.2,</span>
<span class="co">#weights = testdata$wtsupp, FUN = rq, begin = 2011, end = 2013)</span>
<span class="co">#testmod11 # print output</span></code></pre>
<p>Note that the above code takes time to excecute. That should be expected, since the estimations are done for several states.</p>
</div>
<div id="additional-functions" class="section level2">
<h2>Additional functions</h2>
<p>The package provides additional functions for post processing the estimates.</p>
<div id="realvalueconverter-function" class="section level3">
<h3>RealValueConverter() function</h3>
<p>The RealValueConverter() function converts the estimates into real values. The default of the function is the 2013 dollar value. For simplicity, the package provides the estimates of the preinstalled data. These estimates are named testmod2.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(testmod2) <span class="co"># load precomputed estimates</span>
<span class="kw">str</span>(testmod2)</code></pre>
<pre><code>## List of 3
##  $ All   : num [1:51, 1:24] 7.33 10.9 8.62 6.88 9.92 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:51] &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; &quot;Arkansas&quot; ...
##   .. ..$ : chr [1:24] &quot;1990&quot; &quot;1991&quot; &quot;1992&quot; &quot;1993&quot; ...
##  $ Male  : num [1:51, 1:24] 9.48 13.09 10.34 8.24 11.9 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:51] &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; &quot;Arkansas&quot; ...
##   .. ..$ : chr [1:24] &quot;1990&quot; &quot;1991&quot; &quot;1992&quot; &quot;1993&quot; ...
##  $ Female: num [1:51, 1:24] 4.96 8.23 6.51 5.48 7.46 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:51] &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; &quot;Arkansas&quot; ...
##   .. ..$ : chr [1:24] &quot;1990&quot; &quot;1991&quot; &quot;1992&quot; &quot;1993&quot; ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(testmod2[[<span class="dv">1</span>]][,<span class="dv">1</span>:<span class="dv">5</span>], <span class="dt">n =</span> <span class="dv">10</span>) <span class="co"># print out few estimates (Nominal values)</span></code></pre>
<pre><code>##                           1990      1991      1992      1993      1994
## Alabama               7.331413  7.231815  7.596281  8.436302  8.567241
## Alaska               10.902549 10.638366 11.134103 11.617920 11.766019
## Arizona               8.617152  8.146037  8.249965  9.028815  9.743704
## Arkansas              6.881444  6.266025  7.186487  7.721253  7.090874
## California            9.923135 10.281333 10.389423 10.728016 11.103102
## Colorado              9.146560  9.279052  7.945691  9.814502 11.607394
## Connecticut           9.443597 10.815665  9.970797 11.597516 11.710644
## Delaware              8.956594  8.241074  9.101955  9.028676  8.990877
## District of Columbia  9.667591  8.738559 10.640384 10.852415 10.605305
## Florida               7.899722  7.518312  8.058324  8.718676  8.953074</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">RealValueConverter</span>(<span class="dt">df =</span> testmod2[[<span class="dv">1</span>]], <span class="dt">begin =</span> <span class="dv">1990</span>, 
                        <span class="dt">end =</span> <span class="dv">2013</span>)[,<span class="dv">1</span>:<span class="dv">6</span>]) <span class="co"># print out few estimates (Real values)</span></code></pre>
<pre><code>##                1990     1991     1992     1993     1994     1995
## Alabama    13.06736 12.36932 12.61302 13.60066 13.46693 14.32728
## Alaska     19.43248 18.19590 18.48729 18.72994 18.49512 20.39593
## Arizona    15.35903 13.93301 13.69841 14.55589 15.31622 16.54089
## Arkansas   12.26534 10.71743 11.93259 12.44789 11.14621 11.08850
## California 17.68679 17.58523 17.25081 17.29527 17.45307 17.42220
## Colorado   16.30264 15.87093 13.19319 15.82254 18.24577 16.31763</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Another example using RealValueConverter()</span>
<span class="kw">head</span>(<span class="kw">RealValueConverter</span>(<span class="dt">df =</span> testmod2[[<span class="dv">1</span>]][,<span class="dv">1</span>:<span class="dv">6</span>], <span class="dt">begin =</span> <span class="dv">1990</span>, <span class="dt">end =</span> <span class="dv">1995</span>))</code></pre>
<pre><code>##                1990     1991     1992     1993     1994     1995
## Alabama    13.06736 12.36932 12.61302 13.60066 13.46693 14.32728
## Alaska     19.43248 18.19590 18.48729 18.72994 18.49512 20.39593
## Arizona    15.35903 13.93301 13.69841 14.55589 15.31622 16.54089
## Arkansas   12.26534 10.71743 11.93259 12.44789 11.14621 11.08850
## California 17.68679 17.58523 17.25081 17.29527 17.45307 17.42220
## Colorado   16.30264 15.87093 13.19319 15.82254 18.24577 16.31763</code></pre>
</div>
<div id="smoother3-function" class="section level3">
<h3>smoother3() function</h3>
<p>The smoother3() function produces a three year moving average estimates.</p>
<pre class="sourceCode r"><code class="sourceCode r">smooth_data &lt;-<span class="st"> </span><span class="kw">smoother3</span>(testmod2$All)
<span class="kw">head</span>(smooth_data[,<span class="dv">1</span>:<span class="dv">5</span>])</code></pre>
<pre><code>##                 1991      1992      1993      1994      1995
## Alabama     7.386503  7.754800  8.199942  8.792141  9.614909
## Alaska     10.891673 11.130130 11.506014 12.242306 12.791095
## Arizona     8.337718  8.474939  9.007495  9.864512 10.287827
## Arkansas    6.777985  7.057922  7.332871  7.355400  7.452457
## California 10.197964 10.466258 10.740180 11.076229 11.459577
## Colorado    8.790434  9.013082  9.789195 10.698952 11.202996</code></pre>
</div>
<div id="ts_convert-function" class="section level3">
<h3>ts_convert() function</h3>
<p>The ts_convert() function smooths the estimates, then convert them into a time series format.</p>
<pre class="sourceCode r"><code class="sourceCode r">t_series &lt;-<span class="st"> </span><span class="kw">ts_convert</span>(testmod2$All)
<span class="kw">head</span>(t_series[, <span class="dv">1</span>:<span class="dv">5</span>])</code></pre>
<pre><code>##        Alabama   Alaska   Arizona Arkansas California
## 1991  7.386503 10.89167  8.337718 6.777985   10.19796
## 1992  7.754800 11.13013  8.474939 7.057922   10.46626
## 1993  8.199942 11.50601  9.007495 7.332871   10.74018
## 1994  8.792141 12.24231  9.864512 7.355400   11.07623
## 1995  9.614909 12.79110 10.287827 7.452457   11.45958
## 1996 10.126741 12.69140 10.459039 7.653872   11.87854</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Another example for limitted years</span>
<span class="kw">ts_convert</span>(testmod2$All[,<span class="dv">1</span>:<span class="dv">5</span>], <span class="dt">begin =</span> <span class="dv">1990</span>, <span class="dt">end =</span> <span class="dv">1994</span>)[,<span class="dv">1</span>:<span class="dv">5</span>] <span class="co"># print few states</span></code></pre>
<pre><code>##       Alabama   Alaska  Arizona Arkansas California
## 1991 7.386503 10.89167 8.337718 6.777985   10.19796
## 1992 7.754800 11.13013 8.474939 7.057922   10.46626
## 1993 8.199942 11.50601 9.007495 7.332871   10.74018</code></pre>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
